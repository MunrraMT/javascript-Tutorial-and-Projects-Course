class PersonInfo{constructor(t,e){this.container=t,this.url=e,this.count=0,this.userImg=t.querySelector("img.user-img"),this.userValue=t.querySelector("p.user-value"),this.userTitle=t.querySelector("p.user-title"),this.icons=t.querySelectorAll("button.icon"),this.btnRandom=t.querySelector("button.btn"),this.btnNext=t.querySelector('[data-label="next"]'),this.btnPrev=t.querySelector('[data-label="prev"]'),this.init=this.init.bind(this),this.randPerfil=this.randPerfil.bind(this),this.nextPerfil=this.nextPerfil.bind(this),this.prevPerfil=this.prevPerfil.bind(this),this.touchIcons=this.touchIcons.bind(this),this.events()}events(){window.addEventListener("DOMContentLoaded",this.init),this.btnRandom.addEventListener("click",this.randPerfil),this.btnNext.addEventListener("click",this.nextPerfil),this.btnPrev.addEventListener("click",this.prevPerfil),this.icons.forEach(t=>{t.addEventListener("mouseenter",this.touchIcons)})}async init(){this.loadingIcon("enable"),await this.getPersonApi(),this.showPerson("name"),this.loadingIcon("disable")}loadingIcon(t){const e=document.createElement("img");e.src="./img/Infinity-1.5s-100px.svg",e.classList.add("loading-icon"),"enable"===t&&(this.userTitle.textContent=" ",this.userValue.textContent=" ",this.container.insertBefore(e,this.userValue)),"disable"===t&&this.container.querySelector(".loading-icon").remove()}async getPersonApi(){try{localStorage.removeItem("listPerson");const t=await fetch(this.url,{method:"Get"}),e=(await t.json()).results;this.setLocalHost(e)}catch(t){this.loadingIcon("disable"),this.userTitle.textContent="Information not found",this.userValue.textContent="Try again later"}}setLocalHost(t){const e=t;localStorage.setItem("listPerson",JSON.stringify(e))}showPerson(t){switch(this.showPhoto(),this.showGender(),t){case"name":this.userTitle.textContent=this.showName().title,this.userValue.textContent=this.showName().name;break;case"email":this.userTitle.textContent=this.showEmail().title,this.userValue.textContent=this.showEmail().email;break;case"age":this.userTitle.textContent=this.showAge().title,this.userValue.textContent=this.showAge().age;break;case"street":this.userTitle.textContent=this.showStreet().title,this.userValue.textContent=this.showStreet().street;break;case"phone":this.userTitle.textContent=this.showPhone().title,this.userValue.textContent=this.showPhone().phone;break;case"password":this.userTitle.textContent=this.showPassword().title,this.userValue.textContent=this.showPassword().password}}showPhoto(){const t=this.getLocalHost()[this.count].picture.large;this.userImg.setAttribute("width","150"),this.userImg.setAttribute("height","150"),this.userImg.src=t}getLocalHost(){return JSON.parse(localStorage.getItem("listPerson"))}showGender(){const t=document.documentElement;"female"===this.getLocalHost()[this.count].gender?t.style.setProperty("--clr-grey-10","#f8f1f7","important"):t.style.setProperty("--clr-grey-10","#f1f5f8","important")}showName(){const t=this.getLocalHost()[this.count].name.first,e=this.getLocalHost()[this.count].name.last;return{title:"My name is",name:`${this.getLocalHost()[this.count].name.title} ${t} ${e}`}}showEmail(){return{title:"My email is",email:this.getLocalHost()[this.count].email}}showAge(){return{title:`I'm have ${this.getLocalHost()[this.count].dob.age} years old`,age:`I was born in ${this.getLocalHost()[this.count].dob.date.slice(0,4)}`}}showStreet(){return{title:`I live in ${this.getLocalHost()[this.count].location.country}`,street:`in the state of ${this.getLocalHost()[this.count].location.state} / ${this.getLocalHost()[this.count].nat}`}}showPhone(){return{title:"My phone number is",phone:this.getLocalHost()[this.count].phone}}showPassword(){return{title:`My login is "${this.getLocalHost()[this.count].login.username}"`,password:`My password is "${this.getLocalHost()[this.count].login.password}"`}}randPerfil(){this.count=this.rand(this.getLocalHost()),this.showPerson("name",this.count)}rand(t){const e=t.length;return Math.floor(Math.random()*(e-0))+0}nextPerfil(){this.count++,this.count===this.getLocalHost().length&&(this.count=0),this.showPerson("name",this.count)}prevPerfil(){this.count--,this.count<0&&(this.count=this.getLocalHost().length-1),this.showPerson("name",this.count)}touchIcons(t){this.showPerson(t.currentTarget.getAttribute("data-label"),this.count)}}const cadastrados=new PersonInfo(document.querySelector("div.container"),"https://randomuser.me/api/?results=100");